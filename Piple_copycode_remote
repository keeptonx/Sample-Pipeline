pipeline
{
agent any

triggers {
  cron('H 2 * * *') // Runevery day at 2 AM
environement {
DEPLOY_USER="ec2-user"
DEPLOY_PASSWORD=
DEPLOY_PROD_IP="x.x.x.x"
DEPLOY_PROD_PATH="/var/www/html"
DEPLOY_DEV_IP=""
DEPLOY_DEV_PATH=""
}
stages
{
stage 
 ('checkout')
{
steps 
{
git clone
}
}
stage('deploy') {
steps {
sh  '''

scp -i credentials $DEPLOY_PASSWORD * $DEPLOY_USER@$DEPLOY_PROD_IP:DEPLOY_PROD_PATH

ssh -i credentials $DEPLOY_PASSWORD * $DEPLOY_USER@$DEPLOY_PROD_IP:DEPLOY_PROD_PATH

mkdir index.html
rm old_index.html
touch support.html
'''
}
}
}
